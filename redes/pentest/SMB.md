# SMB

O SMB (*Server Message Block*) é um protolo de redes da camada de aplicação cujo o uso mais comum é o acesso compartilhado a arquivos, impressoras e portas seriais. O protocolo SMB é amplamente utilizado pelos sistemas operacionais Microsoft Windows. O seu uso em sistemas operacionais do tipo Unix (como por exemplo, Linux e MacOS) se dá a partir do software Samba. A porta padrão para a utilização do SMB é a 445.

## Diferença entre SMB e FTP

- No FTP, é necessário que o cliente tenha o arquivo localmente para então poder copiar para o servidor. Já no SMB, não há essa necessidade, já que o arquivo no servidor existe independente de arquivos locais. A escrita e leitura dele se dá diretamente pelo servidor.
- Qualquer mudança em um arquivo no SMB, é imediatamente visível para os outros usuários do mesmo arquivo.
- FTP é mais rápido do que o SMB, porém possui menos funcionalidades.
- O SMB é firewall-unfriendly.

## Ferramentas de Pentesting

### smbmap

O smbmap permite enumerar os sambas shares em um domínio, entre outras coisas:
[https://github.com/ShawnDEvans/smbmap](https://github.com/ShawnDEvans/smbmap)

### smbclient

O smbclient inicia um cliente para poder acessar os recursos SMB de um servidor.
[https://tldp.org/HOWTO/SMB-HOWTO-8.html](https://tldp.org/HOWTO/SMB-HOWTO-8.html)
